# ⚡ 로봇 청소기 전자/하드웨어 통합 BOM (전원 기준)

> 전원 레일별 부품 분류 및 소비 전력 분석

---

## 전원 아키텍처 개요

```
                         ┌─────────────────────────────────────────────────────────┐
                         │              배터리 팩 (18.5V nominal)                   │
                         │           18650 5S × 2600mAh = 48.1Wh                   │
                         └─────────────────────┬───────────────────────────────────┘
                                               │
                    ┌──────────────────────────┼──────────────────────────┐
                    │                          │                          │
                    ▼                          ▼                          ▼
         ┌─────────────────┐        ┌─────────────────┐        ┌─────────────────┐
         │  DC-DC 12V/2A   │        │  DC-DC 5V/3A    │        │  직결 18.5V     │
         │   (모터 전원)    │        │  (로직 전원)     │        │  (BLDC 모터)    │
         └────────┬────────┘        └────────┬────────┘        └────────┬────────┘
                  │                          │                          │
    ┌─────────────┼─────────────┐            │                          │
    │             │             │            │                          │
    ▼             ▼             ▼            ▼                          ▼
┌───────┐   ┌───────┐   ┌───────┐   ┌───────────────┐          ┌───────────────┐
│ 휠모터 │   │브러시 │   │물걸레 │   │   DC-DC 3.3V  │          │   BLDC 흡입   │
│ ×2    │   │모터×3 │   │모터×2 │   │   (센서/IC)   │          │    모터       │
└───────┘   └───────┘   └───────┘   └───────────────┘          └───────────────┘
```

---

## 통합 BOM 테이블 (전원 레일 기준)

### 📊 전체 요약

| 전원 레일 | 부품 수 | 예상 소비전류 | 최대 전력 | 부품 원가 |
|----------|:------:|------------:|--------:|----------:|
| 18.5V (배터리 직결) | 4개 | 6.0A | 111W | 27,000원 |
| 12V 레일 | 12개 | 3.5A | 42W | 18,300원 |
| 5V 레일 | 18개 | 2.0A | 10W | 22,800원 |
| 3.3V 레일 | 25개 | 0.8A | 2.6W | 18,400원 |
| **합계** | **59개** | - | **165.6W** | **86,500원** |

---

## 1️⃣ 18.5V 레일 (배터리 직결)

> 고전력 부품 - BLDC 모터, 배터리 관리

| No | 부품명 | 규격/모델 | 수량 | 정격전류 | 최대전력 | 단가 | 금액 | 비고 |
|:--:|-------|----------|:---:|--------:|-------:|-----:|-----:|------|
| 1 | BLDC 흡입 모터 | 100,000rpm, 5,000Pa | 1 | 5.0A | 92.5W | 8,500원 | 8,500원 | Nidec/중국 |
| 2 | BLDC 드라이버 IC | DRV10983 또는 동급 | 1 | - | - | 1,200원 | 1,200원 | TI |
| 3 | BMS 보드 | 5S, 20A, 밸런싱 | 1 | 20A max | - | 3,500원 | 3,500원 | 보호회로 |
| 4 | 18650 셀 | 3.7V, 2600mAh, INR | 5 | - | 48.1Wh | 2,800원 | 14,000원 | Samsung SDI |
| | | | | | | **소계** | **27,200원** | |

**18.5V 레일 특성:**
- 배터리 전압 범위: 15V (방전) ~ 21V (만충)
- 최대 순간 전류: 10A (모터 기동 시)
- 보호: 과전류 20A, 과방전 15V, 과충전 21V

---

## 2️⃣ 12V 레일

> 중전력 부품 - DC 모터류, 일부 액추에이터

| No | 부품명 | 규격/모델 | 수량 | 정격전류 | 최대전력 | 단가 | 금액 | 비고 |
|:--:|-------|----------|:---:|--------:|-------:|-----:|-----:|------|
| 1 | DC-DC 컨버터 | 18V→12V, 3A | 1 | 3A out | 36W | 600원 | 600원 | Buck |
| 2 | 구동 휠 모터 (L) | 12V DC 기어드, 엔코더 | 1 | 0.8A | 9.6W | 3,500원 | 3,500원 | 30:1 감속 |
| 3 | 구동 휠 모터 (R) | 12V DC 기어드, 엔코더 | 1 | 0.8A | 9.6W | 3,500원 | 3,500원 | 30:1 감속 |
| 4 | 모터 드라이버 IC | DRV8833 (듀얼 H-bridge) | 2 | 1.5A/ch | - | 800원 | 1,600원 | 휠 모터용 |
| 5 | 메인 브러시 모터 | 12V DC 기어드 | 1 | 0.5A | 6W | 1,500원 | 1,500원 | |
| 6 | 물걸레 회전 모터 (L) | 12V DC, 180rpm | 1 | 0.3A | 3.6W | 1,200원 | 1,200원 | |
| 7 | 물걸레 회전 모터 (R) | 12V DC, 180rpm | 1 | 0.3A | 3.6W | 1,200원 | 1,200원 | |
| 8 | 모터 드라이버 IC | DRV8833 (듀얼) | 1 | 1.5A/ch | - | 800원 | 800원 | 브러시/물걸레 |
| 9 | 전류 센싱 저항 | 0.1Ω, 1W, 1% | 4 | - | - | 50원 | 200원 | 모터 전류 감지 |
| 10 | 역기전력 보호 다이오드 | SS34, 3A | 6 | - | - | 30원 | 180원 | 모터 보호 |
| 11 | 전해 커패시터 | 100μF/25V | 4 | - | - | 50원 | 200원 | 디커플링 |
| 12 | MLCC | 10μF/25V, 0805 | 8 | - | - | 20원 | 160원 | 디커플링 |
| | | | | | | **소계** | **18,640원** | |

**12V 레일 특성:**
- 출력: 12V ± 5%, 3A 연속
- 효율: 약 92%
- 리플: < 50mV

---

## 3️⃣ 5V 레일

> 중전력 로직 - MCU, 모듈, 소형 모터/서보

| No | 부품명 | 규격/모델 | 수량 | 정격전류 | 최대전력 | 단가 | 금액 | 비고 |
|:--:|-------|----------|:---:|--------:|-------:|-----:|-----:|------|
| 1 | DC-DC 컨버터 | 18V→5V, 3A | 1 | 3A out | 15W | 800원 | 800원 | Buck |
| 2 | AP (SoC) | Allwinner H6 / RV1109 | 1 | 0.8A | 4W | 6,000원 | 6,000원 | Cortex-A53 |
| 3 | DDR3 메모리 | 512MB, DDR3L-1600 | 1 | 0.15A | 0.75W | 2,500원 | 2,500원 | |
| 4 | eMMC | 4GB, 5.1 | 1 | 0.1A | 0.5W | 1,800원 | 1,800원 | |
| 5 | Wi-Fi/BLE 모듈 | RTL8723DS | 1 | 0.25A | 1.25W | 2,200원 | 2,200원 | 2.4/5GHz+BLE |
| 6 | 모터 제어 MCU | STM32F103C8T6 | 1 | 0.05A | 0.25W | 1,500원 | 1,500원 | 72MHz |
| 7 | 센서 MCU | STM32F030C8T6 | 1 | 0.03A | 0.15W | 800원 | 800원 | 48MHz |
| 8 | 사이드 브러시 모터 (L) | 5V DC 기어드 | 1 | 0.15A | 0.75W | 800원 | 800원 | |
| 9 | 사이드 브러시 모터 (R) | 5V DC 기어드 | 1 | 0.15A | 0.75W | 800원 | 800원 | |
| 10 | 리프트 서보 모터 | SG90, 5V | 1 | 0.2A | 1W | 1,000원 | 1,000원 | 물걸레 리프트 |
| 11 | 물 펌프 | 미니 다이어프램, 5V | 1 | 0.15A | 0.75W | 800원 | 800원 | |
| 12 | RGB 카메라 모듈 | OV2640, 2MP | 1 | 0.12A | 0.6W | 3,500원 | 3,500원 | 120° FOV |
| 13 | 오디오 앰프 IC | PAM8403 | 1 | 0.05A | 0.25W | 200원 | 200원 | 2×3W |
| 14 | 스피커 | Ø20mm, 1W, 8Ω | 1 | 0.12A | 0.6W | 300원 | 300원 | 음성 안내 |
| 15 | USB-UART 디버그 | CP2102 | 1 | 0.02A | 0.1W | 500원 | 500원 | 개발용 |
| 16 | 전해 커패시터 | 470μF/6.3V | 2 | - | - | 30원 | 60원 | 벌크 |
| 17 | MLCC | 22μF/6.3V, 0805 | 10 | - | - | 15원 | 150원 | 디커플링 |
| 18 | 페라이트 비드 | 600Ω@100MHz | 6 | - | - | 10원 | 60원 | EMI 필터 |
| | | | | | | **소계** | **23,770원** | |

**5V 레일 특성:**
- 출력: 5V ± 3%, 3A 연속
- 효율: 약 90%
- 리플: < 30mV
- 보호: 과전류 3.5A 제한

---

## 4️⃣ 3.3V 레일

> 저전력 로직 - 센서, 통신 IC, LED

| No | 부품명 | 규격/모델 | 수량 | 정격전류 | 최대전력 | 단가 | 금액 | 비고 |
|:--:|-------|----------|:---:|--------:|-------:|-----:|-----:|------|
| 1 | LDO 레귤레이터 | AMS1117-3.3, 1A | 1 | 1A out | 3.3W | 100원 | 100원 | 5V→3.3V |
| 2 | DC-DC 컨버터 | 5V→3.3V, 1A (효율용) | 1 | 1A out | 3.3W | 300원 | 300원 | 옵션 |
| | **네비게이션 센서** | | | | | | | |
| 3 | LiDAR 모듈 | 360°, 12m, 6Hz | 1 | 0.25A | 0.83W | 18,000원 | 18,000원 | Camsense |
| 4 | ToF 센서 | VL53L1X, 4m | 1 | 0.02A | 0.07W | 2,500원 | 2,500원 | STMicro |
| 5 | IMU | MPU6050 | 1 | 0.004A | 0.01W | 800원 | 800원 | 6축 |
| | **장애물/안전 센서** | | | | | | | |
| 6 | 범퍼 스위치 | 마이크로 스위치 | 4 | 0.001A | - | 150원 | 600원 | 접점 |
| 7 | 절벽 센서 (IR TX) | IR LED 850nm | 4 | 0.02A | 0.26W | 50원 | 200원 | |
| 8 | 절벽 센서 (IR RX) | 포토트랜지스터 | 4 | 0.005A | 0.07W | 50원 | 200원 | |
| 9 | 벽면 센서 (IR TX) | IR LED 850nm | 2 | 0.02A | 0.13W | 50원 | 100원 | |
| 10 | 벽면 센서 (IR RX) | 포토트랜지스터 | 2 | 0.005A | 0.03W | 50원 | 100원 | |
| 11 | 카펫 감지 센서 | 초음파 HC-SR04 | 1 | 0.015A | 0.05W | 800원 | 800원 | |
| 12 | 먼지 감지 센서 | 광학식 GP2Y1010 | 1 | 0.02A | 0.07W | 600원 | 600원 | |
| | **상태 감지 센서** | | | | | | | |
| 13 | 먼지통 감지 | 홀센서 A3144 | 1 | 0.005A | 0.02W | 200원 | 200원 | |
| 14 | 물탱크 수위 | 플로트 스위치 | 1 | 0.001A | - | 300원 | 300원 | |
| 15 | 배터리 온도 | NTC 10K | 1 | 0.001A | - | 100원 | 100원 | |
| | **도킹 센서** | | | | | | | |
| 16 | IR 수신부 | TSOP38238, 38kHz | 3 | 0.005A | 0.05W | 150원 | 450원 | 스테이션 인식 |
| 17 | 도킹 확인 | 마이크로 스위치 | 1 | 0.001A | - | 150원 | 150원 | |
| | **UI/표시** | | | | | | | |
| 18 | RGB LED | WS2812B | 3 | 0.06A | 0.6W | 100원 | 300원 | 상태 표시 |
| 19 | 버튼 LED | 백색 LED | 3 | 0.02A | 0.2W | 30원 | 90원 | |
| 20 | 택트 스위치 | 6×6mm | 3 | - | - | 50원 | 150원 | 전원/홈/스팟 |
| | **통신/기타** | | | | | | | |
| 21 | 레벨 시프터 | TXS0108E | 2 | 0.01A | 0.03W | 300원 | 600원 | 5V↔3.3V |
| 22 | I2C 버퍼 | PCA9306 | 1 | 0.005A | 0.02W | 200원 | 200원 | |
| 23 | EEPROM | 24C64, 64Kbit | 1 | 0.003A | 0.01W | 150원 | 150원 | 설정 저장 |
| 24 | 크리스탈 | 8MHz, 12MHz | 2 | - | - | 100원 | 200원 | MCU 클럭 |
| 25 | MLCC | 0.1μF/16V, 0402 | 50 | - | - | 5원 | 250원 | 디커플링 |
| | | | | | | **소계** | **27,440원** | |

**3.3V 레일 특성:**
- 출력: 3.3V ± 2%, 1A 연속
- 노이즈: < 10mV (센서용 클린 전원 필요)
- 분리: 아날로그/디지털 전원 분리 권장

---

## 📋 PCB 및 커넥터

| No | 부품명 | 규격 | 수량 | 단가 | 금액 | 비고 |
|:--:|-------|------|:---:|-----:|-----:|------|
| 1 | 메인보드 PCB | 6L, FR4, 1.6mm, ENIG | 1 | 3,500원 | 3,500원 | 100×80mm |
| 2 | 모터 드라이버 PCB | 4L, FR4, 1.6mm | 1 | 1,500원 | 1,500원 | 60×40mm |
| 3 | 센서보드 PCB | 2L, FR4, 1.0mm | 1 | 800원 | 800원 | 80×30mm |
| 4 | FPC 케이블 | 다종 (카메라, 센서) | 5 | 150원 | 750원 | |
| 5 | 와이어 하네스 | 모터/전원용 | 1 | 1,200원 | 1,200원 | 커넥터 포함 |
| 6 | 배터리 커넥터 | XT30 또는 JST | 1 | 200원 | 200원 | |
| 7 | 보드간 커넥터 | 2.54mm 핀헤더 | 10 | 50원 | 500원 | |
| 8 | FPC 커넥터 | 0.5mm pitch | 6 | 80원 | 480원 | |
| 9 | Wi-Fi 안테나 | PCB 안테나/FPC | 1 | 300원 | 300원 | |
| 10 | BLE 안테나 | 칩 안테나 | 1 | 200원 | 200원 | |
| | | | | **소계** | **9,430원** | |

---

## ⚡ 전력 소비 분석

### 동작 모드별 소비 전력

| 모드 | 18.5V | 12V | 5V | 3.3V | 총 전력 | 예상 동작시간 |
|-----|------:|----:|---:|-----:|-------:|:-----------:|
| **대기 (Standby)** | 0W | 0W | 0.5W | 0.3W | 0.8W | - |
| **매핑 (Mapping)** | 20W | 5W | 4W | 1.5W | 30.5W | 95분 |
| **일반 청소 (Normal)** | 45W | 15W | 4W | 1.5W | 65.5W | 44분 |
| **강력 청소 (Turbo)** | 92W | 25W | 4W | 1.5W | 122.5W | 24분 |
| **물걸레 모드** | 30W | 20W | 4W | 1.5W | 55.5W | 52분 |
| **복귀 (Return)** | 15W | 8W | 4W | 1.5W | 28.5W | 101분 |
| **충전 중** | -40W | 0W | 0.5W | 0.3W | -39.2W | 90분 (완충) |

### 배터리 수명 계산

```
배터리 용량: 18.5V × 5.2Ah = 96.2Wh (공칭)
실사용 용량: 96.2Wh × 0.9 (DOD 90%) = 86.6Wh

일반 청소 모드:
  동작시간 = 86.6Wh ÷ 65.5W = 1.32시간 = 약 80분

스펙 표기 (180분):
  에코 모드 기준, 약 29W 소비 시
  86.6Wh ÷ 29W = 2.99시간 ≒ 180분
```

---

## 🔌 충전 스테이션 전자부

| No | 부품명 | 규격 | 수량 | 정격 | 단가 | 금액 | 비고 |
|:--:|-------|------|:---:|-----:|-----:|-----:|------|
| 1 | AC-DC 어댑터 | 100-240V → 19V/2A | 1 | 38W | 4,500원 | 4,500원 | 외장형 |
| 2 | DC잭 | Ø5.5/2.1mm | 1 | 3A | 150원 | 150원 | |
| 3 | 충전 접점 (포고핀) | 스프링 로드, 2A | 2 | 2A | 400원 | 800원 | |
| 4 | 스테이션 PCB | 2L, FR4 | 1 | - | 600원 | 600원 | |
| 5 | IR 송신 LED | 850nm, 38kHz | 3 | 0.1A | 150원 | 450원 | 도킹 유도 |
| 6 | 도킹 감지 센서 | 광센서 | 1 | - | 200원 | 200원 | |
| 7 | LED 인디케이터 | 녹색 LED | 1 | 0.02A | 100원 | 100원 | |
| 8 | NE555 타이머 | 38kHz 발진 | 1 | - | 50원 | 50원 | IR 변조 |
| 9 | 수동소자 | R, C | 1 | - | 200원 | 200원 | |
| 10 | 전원 케이블 | AC, 1.5m | 1 | - | 800원 | 800원 | |
| | | | | | **소계** | **7,850원** | |

---

## 💰 전자/하드웨어 원가 총계

| 카테고리 | 부품 원가 | 비고 |
|---------|----------:|------|
| 18.5V 레일 부품 | 27,200원 | BLDC, 배터리, BMS |
| 12V 레일 부품 | 18,640원 | DC 모터류 |
| 5V 레일 부품 | 23,770원 | AP, MCU, 모듈 |
| 3.3V 레일 부품 | 27,440원 | 센서류 |
| PCB/커넥터 | 9,430원 | 기판, 케이블 |
| 충전 스테이션 | 7,850원 | |
| **총계** | **114,330원** | |
| 조립/검사 마진 (+15%) | 17,150원 | |
| **최종 원가** | **131,480원** | |

---

## 📎 참고: 주요 IC Pinout

### STM32F103C8T6 (모터 제어 MCU)
```
기능 할당:
- PA0~PA3: 모터 전류 ADC
- PA8~PA11: 휠 모터 PWM (TIM1)
- PB6~PB9: 브러시/물걸레 PWM (TIM4)
- PA9/PA10: UART1 (메인보드 통신)
- PB10/PB11: UART3 (디버그)
- PC13: 상태 LED
```

### 전원 시퀀싱
```
1. 배터리 연결 → BMS 활성화
2. 전원 버튼 → 18.5V 메인 스위치 ON
3. 12V DC-DC 활성화 (10ms)
4. 5V DC-DC 활성화 (20ms)
5. 3.3V LDO 활성화 (5ms)
6. AP 부팅 시작 (1초)
7. 시스템 Ready
```

---

> ⚠️ **설계 시 주의사항**
> - 모터 구동 시 돌입전류 고려 (정격의 3~5배)
> - 센서 전원은 모터 노이즈로부터 분리
> - 배터리 보호회로 필수 (과충전/과방전/과전류/단락)
> - EMI 대책: 모터 라인에 페라이트 코어, 스너버 회로
