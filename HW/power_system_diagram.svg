<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 900" width="1400" height="900">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#d32f2f"/>
    </marker>
    <marker id="arrowhead-blue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#1976d2"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1400" height="900" fill="#fafafa"/>
  
  <!-- Title -->
  <text x="700" y="35" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">로봇 청소기 전원 시스템 회로도</text>
  <text x="700" y="55" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">Power System Block Diagram - 24V Adapter / 5S2P Battery (129.5Wh)</text>
  
  <!-- Charging Station Section -->
  <rect x="30" y="80" width="300" height="350" rx="10" fill="#fff" stroke="#1976d2" stroke-width="2"/>
  <text x="180" y="105" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1976d2">충전 스테이션</text>
  
  <!-- AC-DC Adapter -->
  <rect x="50" y="130" width="120" height="60" rx="5" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
  <text x="110" y="155" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">AC-DC 어댑터</text>
  <text x="110" y="172" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#666">24V / 2A</text>
  <text x="110" y="185" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#888">(48W)</text>
  
  <!-- AC Input -->
  <text x="40" y="165" font-family="Arial, sans-serif" font-size="11" fill="#333">AC</text>
  <line x1="10" y1="160" x2="50" y2="160" stroke="#333" stroke-width="2"/>
  
  <!-- Buck Converter -->
  <rect x="50" y="220" width="120" height="50" rx="5" fill="#e8f5e9" stroke="#388e3c" stroke-width="1.5"/>
  <text x="110" y="242" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#333">Buck DC-DC</text>
  <text x="110" y="258" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">24V → 22V / 2A</text>
  
  <!-- Arrow from adapter to buck -->
  <line x1="110" y1="190" x2="110" y2="220" stroke="#d32f2f" stroke-width="2" marker-end="url(#arrowhead-red)"/>
  <text x="125" y="208" font-family="Arial, sans-serif" font-size="9" fill="#d32f2f">24V</text>
  
  <!-- IR Transmitter -->
  <rect x="200" y="220" width="100" height="50" rx="5" fill="#fff3e0" stroke="#f57c00" stroke-width="1.5"/>
  <text x="250" y="242" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#333">IR 송신부</text>
  <text x="250" y="258" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">38kHz × 3ch</text>
  
  <!-- Pogo Pins -->
  <rect x="80" y="300" width="80" height="40" rx="5" fill="#ffecb3" stroke="#ffa000" stroke-width="1.5"/>
  <text x="120" y="318" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#333">포고핀</text>
  <text x="120" y="332" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">2A × 2</text>
  
  <!-- Arrow from buck to pogo -->
  <line x1="110" y1="270" x2="110" y2="300" stroke="#388e3c" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="125" y="288" font-family="Arial, sans-serif" font-size="9" fill="#388e3c">22V</text>
  
  <!-- Status LED -->
  <circle cx="280" y="320" r="15" fill="#4caf50" stroke="#2e7d32" stroke-width="1.5"/>
  <text x="280" y="324" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#fff">LED</text>
  <text x="280" y="350" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">상태표시</text>
  
  <!-- Robot Body Section -->
  <rect x="370" y="80" width="1000" height="800" rx="10" fill="#fff" stroke="#333" stroke-width="2"/>
  <text x="870" y="105" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">로봇 청소기 본체</text>
  
  <!-- Connection from station to robot -->
  <line x1="160" y1="320" x2="370" y2="320" stroke="#ffa000" stroke-width="3" stroke-dasharray="10,5"/>
  <text x="265" y="310" font-family="Arial, sans-serif" font-size="10" fill="#ffa000">도킹 연결</text>
  
  <!-- Charging IC -->
  <rect x="400" y="280" width="120" height="60" rx="5" fill="#e8f5e9" stroke="#388e3c" stroke-width="1.5"/>
  <text x="460" y="302" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#333">충전 IC</text>
  <text x="460" y="318" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">CC/CV 2A</text>
  <text x="460" y="332" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#888">BQ24610</text>
  
  <!-- Battery Pack -->
  <rect x="570" y="180" width="180" height="180" rx="8" fill="#ffebee" stroke="#d32f2f" stroke-width="2"/>
  <text x="660" y="205" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#d32f2f">배터리 팩</text>
  <text x="660" y="225" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333">18650 5S2P</text>
  
  <!-- Battery cells visualization -->
  <g transform="translate(590, 240)">
    <!-- Row 1 -->
    <rect x="0" y="0" width="25" height="40" rx="3" fill="#ef5350" stroke="#c62828" stroke-width="1"/>
    <rect x="30" y="0" width="25" height="40" rx="3" fill="#ef5350" stroke="#c62828" stroke-width="1"/>
    <rect x="60" y="0" width="25" height="40" rx="3" fill="#ef5350" stroke="#c62828" stroke-width="1"/>
    <rect x="90" y="0" width="25" height="40" rx="3" fill="#ef5350" stroke="#c62828" stroke-width="1"/>
    <rect x="120" y="0" width="25" height="40" rx="3" fill="#ef5350" stroke="#c62828" stroke-width="1"/>
    <!-- Row 2 -->
    <rect x="0" y="45" width="25" height="40" rx="3" fill="#ef5350" stroke="#c62828" stroke-width="1"/>
    <rect x="30" y="45" width="25" height="40" rx="3" fill="#ef5350" stroke="#c62828" stroke-width="1"/>
    <rect x="60" y="45" width="25" height="40" rx="3" fill="#ef5350" stroke="#c62828" stroke-width="1"/>
    <rect x="90" y="45" width="25" height="40" rx="3" fill="#ef5350" stroke="#c62828" stroke-width="1"/>
    <rect x="120" y="45" width="25" height="40" rx="3" fill="#ef5350" stroke="#c62828" stroke-width="1"/>
  </g>
  
  <text x="660" y="345" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#333">18.5V / 7.0Ah</text>
  <text x="660" y="358" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">129.5Wh</text>
  
  <!-- BMS -->
  <rect x="590" y="380" width="140" height="50" rx="5" fill="#fce4ec" stroke="#c2185b" stroke-width="1.5"/>
  <text x="660" y="402" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#333">BMS 5S/25A</text>
  <text x="660" y="418" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">과충전/과방전/밸런싱</text>
  
  <!-- Arrow from Charging IC to Battery -->
  <line x1="520" y1="310" x2="570" y2="280" stroke="#388e3c" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="530" y="285" font-family="Arial, sans-serif" font-size="9" fill="#388e3c">21V CC/CV</text>
  
  <!-- Arrow from Battery to BMS -->
  <line x1="660" y1="360" x2="660" y2="380" stroke="#c2185b" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Main 18.5V Bus -->
  <line x1="730" y1="405" x2="850" y2="405" stroke="#d32f2f" stroke-width="4"/>
  <text x="790" y="395" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#d32f2f">18.5V BUS</text>
  
  <!-- Power Distribution -->
  <!-- BLDC Motor direct -->
  <rect x="880" y="130" width="140" height="70" rx="5" fill="#ffcdd2" stroke="#d32f2f" stroke-width="1.5"/>
  <text x="950" y="155" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#333">BLDC 드라이버</text>
  <text x="950" y="172" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">DRV10983</text>
  <text x="950" y="188" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#888">흡입모터 92W</text>
  
  <line x1="850" y1="405" x2="880" y2="405" stroke="#d32f2f" stroke-width="2"/>
  <line x1="880" y1="405" x2="880" y2="200" stroke="#d32f2f" stroke-width="2"/>
  <line x1="880" y1="200" x2="880" y2="165" stroke="#d32f2f" stroke-width="2" marker-end="url(#arrowhead-red)"/>
  <text x="865" y="300" font-family="Arial, sans-serif" font-size="9" fill="#d32f2f" transform="rotate(-90, 865, 300)">18.5V 직결</text>
  
  <!-- 12V DC-DC -->
  <rect x="880" y="250" width="140" height="60" rx="5" fill="#fff9c4" stroke="#f9a825" stroke-width="1.5"/>
  <text x="950" y="272" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#333">DC-DC 12V</text>
  <text x="950" y="288" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">LM2596 / 3A</text>
  <text x="950" y="302" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#888">36W max</text>
  
  <line x1="850" y1="405" x2="950" y2="405" stroke="#d32f2f" stroke-width="2"/>
  <line x1="950" y1="405" x2="950" y2="310" stroke="#d32f2f" stroke-width="2" marker-end="url(#arrowhead-red)"/>
  
  <!-- 5V DC-DC -->
  <rect x="880" y="450" width="140" height="60" rx="5" fill="#e1f5fe" stroke="#0288d1" stroke-width="1.5"/>
  <text x="950" y="472" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#333">DC-DC 5V</text>
  <text x="950" y="488" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">LM2596 / 3A</text>
  <text x="950" y="502" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#888">15W max</text>
  
  <line x1="950" y1="405" x2="950" y2="450" stroke="#d32f2f" stroke-width="2" marker-end="url(#arrowhead-red)"/>
  
  <!-- 12V Loads -->
  <rect x="1060" y="220" width="130" height="110" rx="5" fill="#fffde7" stroke="#f9a825" stroke-width="1"/>
  <text x="1125" y="240" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#f9a825">12V 부하</text>
  <text x="1125" y="258" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">• 휠 모터 L/R</text>
  <text x="1125" y="272" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">• 메인 브러시</text>
  <text x="1125" y="286" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">• 물걸레 모터 ×2</text>
  <text x="1125" y="300" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">• DRV8833 ×2</text>
  <text x="1125" y="318" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="#f9a825">총 3.5A</text>
  
  <line x1="1020" y1="280" x2="1060" y2="280" stroke="#f9a825" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="1040" y="272" font-family="Arial, sans-serif" font-size="9" fill="#f9a825">12V</text>
  
  <!-- 5V Loads -->
  <rect x="1060" y="430" width="130" height="130" rx="5" fill="#e3f2fd" stroke="#0288d1" stroke-width="1"/>
  <text x="1125" y="450" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#0288d1">5V 부하</text>
  <text x="1125" y="468" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">• AP (SoC)</text>
  <text x="1125" y="482" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">• 모터 MCU</text>
  <text x="1125" y="496" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">• Wi-Fi/BLE</text>
  <text x="1125" y="510" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">• 카메라</text>
  <text x="1125" y="524" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">• 사이드 브러시 ×2</text>
  <text x="1125" y="538" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">• 서보, 펌프</text>
  <text x="1125" y="552" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="#0288d1">총 2.0A</text>
  
  <line x1="1020" y1="480" x2="1060" y2="495" stroke="#0288d1" stroke-width="2" marker-end="url(#arrowhead-blue)"/>
  <text x="1040" y="475" font-family="Arial, sans-serif" font-size="9" fill="#0288d1">5V</text>
  
  <!-- 3.3V LDO -->
  <rect x="1060" y="590" width="130" height="50" rx="5" fill="#e8f5e9" stroke="#43a047" stroke-width="1.5"/>
  <text x="1125" y="612" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#333">LDO 3.3V</text>
  <text x="1125" y="628" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">AMS1117 / 1A</text>
  
  <line x1="1125" y1="560" x2="1125" y2="590" stroke="#0288d1" stroke-width="2" marker-end="url(#arrowhead-blue)"/>
  
  <!-- 3.3V Loads -->
  <rect x="1210" y="570" width="130" height="110" rx="5" fill="#e8f5e9" stroke="#43a047" stroke-width="1"/>
  <text x="1275" y="590" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#43a047">3.3V 부하</text>
  <text x="1275" y="608" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">• LiDAR 모듈</text>
  <text x="1275" y="622" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">• ToF 센서</text>
  <text x="1275" y="636" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">• IMU (MPU6050)</text>
  <text x="1275" y="650" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">• IR 센서류</text>
  <text x="1275" y="664" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">• RGB LED, 버튼</text>
  <text x="1275" y="678" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="#43a047">총 0.8A</text>
  
  <line x1="1190" y1="615" x2="1210" y2="625" stroke="#43a047" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="1200" y="608" font-family="Arial, sans-serif" font-size="9" fill="#43a047">3.3V</text>
  
  <!-- GND Bus -->
  <line x1="400" y1="830" x2="1340" y2="830" stroke="#333" stroke-width="4"/>
  <text x="870" y="850" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">GND (공통 접지)</text>
  
  <!-- GND connections -->
  <line x1="660" y1="430" x2="660" y2="830" stroke="#333" stroke-width="1.5" stroke-dasharray="5,3"/>
  <line x1="950" y1="310" x2="950" y2="330" stroke="#333" stroke-width="1"/>
  <line x1="950" y1="330" x2="980" y2="330" stroke="#333" stroke-width="1"/>
  <line x1="980" y1="330" x2="980" y2="830" stroke="#333" stroke-width="1.5" stroke-dasharray="5,3"/>
  <line x1="950" y1="510" x2="950" y2="530" stroke="#333" stroke-width="1"/>
  <line x1="950" y1="530" x2="1010" y2="530" stroke="#333" stroke-width="1"/>
  <line x1="1010" y1="530" x2="1010" y2="830" stroke="#333" stroke-width="1.5" stroke-dasharray="5,3"/>
  <line x1="1125" y1="680" x2="1125" y2="830" stroke="#333" stroke-width="1.5" stroke-dasharray="5,3"/>
  <line x1="1275" y1="680" x2="1275" y2="830" stroke="#333" stroke-width="1.5" stroke-dasharray="5,3"/>
  
  <!-- Power Summary Box -->
  <rect x="400" y="700" width="320" height="110" rx="5" fill="#f5f5f5" stroke="#9e9e9e" stroke-width="1"/>
  <text x="560" y="720" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">전원 사양 요약</text>
  <text x="420" y="742" font-family="Arial, sans-serif" font-size="10" fill="#666">• 어댑터: 24V / 2A (48W)</text>
  <text x="420" y="758" font-family="Arial, sans-serif" font-size="10" fill="#666">• 배터리: 18650 5S2P, 129.5Wh</text>
  <text x="420" y="774" font-family="Arial, sans-serif" font-size="10" fill="#666">• 충전시간: 약 3시간</text>
  <text x="420" y="790" font-family="Arial, sans-serif" font-size="10" fill="#666">• 사용시간: 268분(에코) / 141분(일반)</text>
  
  <!-- Efficiency Box -->
  <rect x="750" y="700" width="250" height="110" rx="5" fill="#e8f5e9" stroke="#43a047" stroke-width="1"/>
  <text x="875" y="720" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#43a047">전력 효율</text>
  <text x="770" y="745" font-family="Arial, sans-serif" font-size="10" fill="#666">18.5V → 12V: 92%</text>
  <text x="770" y="763" font-family="Arial, sans-serif" font-size="10" fill="#666">18.5V → 5V: 90%</text>
  <text x="770" y="781" font-family="Arial, sans-serif" font-size="10" fill="#666">5V → 3.3V: 85% (LDO)</text>
  <text x="770" y="799" font-family="Arial, sans-serif" font-size="10" fill="#666">24V → 22V: 94%</text>
  
  <!-- Safety Features -->
  <rect x="1030" y="700" width="200" height="110" rx="5" fill="#ffebee" stroke="#d32f2f" stroke-width="1"/>
  <text x="1130" y="720" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#d32f2f">보호 기능</text>
  <text x="1050" y="745" font-family="Arial, sans-serif" font-size="10" fill="#666">• 과충전: 4.25V/cell</text>
  <text x="1050" y="763" font-family="Arial, sans-serif" font-size="10" fill="#666">• 과방전: 2.8V/cell</text>
  <text x="1050" y="781" font-family="Arial, sans-serif" font-size="10" fill="#666">• 과전류: 25A</text>
  <text x="1050" y="799" font-family="Arial, sans-serif" font-size="10" fill="#666">• 온도보호: 60°C</text>
  
  <!-- Version info -->
  <text x="1350" y="880" font-family="Arial, sans-serif" font-size="9" text-anchor="end" fill="#999">Rev 1.0 | 2024</text>
</svg>
